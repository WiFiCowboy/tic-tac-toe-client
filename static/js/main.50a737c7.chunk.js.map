{"version":3,"sources":["GameBoard/Square.js","GameBoard/Board.js","config.js","services/token-service.js","Utils/Utils.js","GameBoard/Game.js","Context/Context.js","Header/Header.js","services/auth-api-service.js","LoginForm/LoginForm.js","routes/LoginPage/LoginPage.js","LoggedIn/LoggedInPage.js","RegistrationForm/RegistrationForm.js","routes/RegistrationPage/RegistrationPage.js","LeaderBoard/LeaderBoard.js","App.js","index.js"],"names":["Square","props","className","onClick","value","Board","i","this","squares","renderSquare","React","Component","TokenService","saveAuthToken","token","window","sessionStorage","setItem","config","getAuthToken","getItem","clearAuthToken","removeItem","hasAuthToken","makeBasicAuthToken","userName","password","btoa","Button","join","Input","Required","Section","list","classes","filter","Boolean","lines","Game","newGame","setState","history","Array","fill","stepNumber","xIsNext","endGame","state","length","a","b","c","winner","fetch","body","JSON","stringify","game","method","headers","Authorization","slice","calculateWinner","saveGame","concat","computerPlayer","freePositions","forEach","square","index","push","computerPositions","lineFound","position","Math","floor","random","line","freeFound","total","pos","l","found","free","console","log","handleClick","step","status","current","Context","createContext","username","setusername","Header","leaderboard","registered","handleLogoutClick","context","handleLeaderboardClick","handleRegisterClick","renderLeaderBoardLink","renderLeaderBoardStartGame","renderLeaderBoardBackLink","renderLogoutLink","renderRegisterButtons","renderRegisterBackLink","renderRegisterLink","to","handleLeaderBoardButtons","renderHeaderButtons","contextType","AuthApiService","postLogin","credentials","then","res","ok","json","e","Promise","reject","postUser","user","LoginForm","error","handleSubmitJwtAuth","ev","preventDefault","target","user_name","authToken","onLoginSuccess","catch","onSubmit","role","htmlFor","required","name","id","type","defaultProps","LoginPage","handleLoginSuccess","location","destination","from","LoggedIn","RegistrationForm","handleSubmit","full_name","onRegistrationSuccess","RegistrationPage","handleRegistrationSuccess","LeaderBoard","data","map","key","number_wins","App","hasError","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.50a737c7.chunk.js","sourcesContent":["import React from 'react'\n\nfunction Square(props) {\n  return (\n    <button className=\"square\" onClick={props.onClick}>\n      {props.value}\n    </button>\n  );\n}\nexport default Square","import React from 'react'\nimport Square from './Square'\n\nclass Board extends React.Component {\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"board\">\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Board","export default {\n  // API_ENDPOINT: 'http://localhost:8000/api',\n  API_ENDPOINT: 'https://git.heroku.com/tic-tac-toe-server-capstone.git',\n  TOKEN_KEY: 'thingful-client-auth-token',\n}\n","import config from '../config'\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.sessionStorage.setItem(config.TOKEN_KEY, token)\n  },\n  getAuthToken() {\n    return window.sessionStorage.getItem(config.TOKEN_KEY)\n  },\n  clearAuthToken() {\n    window.sessionStorage.removeItem(config.TOKEN_KEY)\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken()\n  },\n  makeBasicAuthToken(userName, password) {\n    return window.btoa(`${userName}:${password}`)\n  },\n}\n\nexport default TokenService\n","import React from 'react'\nimport { format as formatDate } from 'date-fns'\nimport './Utils.css'\n\nexport function NiceDate({ date, format='Do MMMM YYYY' }) {\n  return formatDate(date, format)\n}\n\nexport function Hyph() {\n  return <span className='Hyph'>{' - '}</span>\n}\n\nexport function Button({ className, ...props }) {\n  return <button className={['Button', className].join(' ')} {...props} />\n}\n\nexport function Textarea({ className, ...props }) {\n  return (\n    <textarea className={['Textarea', className].join(' ')} {...props} />\n  )\n}\n\nexport function Input({ className, ...props }) {\n  return (\n    <input className={['Input', className].join(' ')} {...props} />\n  )\n}\n\nexport function Required({ className, ...props }) {\n  return (\n    <span className={['Required', className].join(' ')} {...props}>\n      &#42;\n    </span>\n  )\n}\n\nexport function Section({ className, list, ...props }) {\n  const classes = [\n    'Section',\n    list && 'Section--list',\n    className,\n  ].filter(Boolean).join(' ')\n  return (\n    <section className={classes} {...props} />\n  )\n}\n","import React from 'react'\nimport Board from './Board'\nimport TokenService from '../services/token-service'\nimport './Game.css'\nimport { Button } from '../Utils/Utils'\n\nconst lines = [\n  [0, 1, 2],\n  [3, 4, 5],\n  [6, 7, 8],\n  [0, 3, 6],\n  [1, 4, 7],\n  [2, 5, 8],\n  [0, 4, 8],\n  [2, 4, 6]\n];\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [\n        {\n          squares: Array(9).fill(null)\n        }\n      ],\n      stepNumber: 0,\n      xIsNext: true,\n      endGame: false\n    };\n  }\n\n  calculateWinner(squares) {\n    //\n    for (let i = 0; i < lines.length; i++) {\n      const [a, b, c] = lines[i];\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n        return squares[a];\n      }\n    }\n    return null;\n  }\n\n  saveGame(winner) {\n    fetch('http://localhost:8000/api/users/game', {\n      body: JSON.stringify({\n        game: winner === 'X' ? true : false\n      }),\n      method: 'post',\n      headers: {\n        Authorization: `Bearer ${TokenService.getAuthToken()}`,\n        'content-type': 'application/json',\n      }\n    })\n  }\n\n  newGame = () => {\n    this.setState({\n      history: [\n        {\n          squares: Array(9).fill(null)\n        }\n      ],\n      stepNumber: 0,\n      xIsNext: true,\n      endGame: false\n    })\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (this.state.endGame === true) {\n      return;\n    }\n\n    if (this.calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n    const winner = this.calculateWinner(squares)\n    let endGame = this.state.endGame\n    if (winner) {\n      this.saveGame(winner)\n      endGame = true;\n\n    }\n    this.setState({\n      endGame,\n      history: history.concat([\n        {\n          squares: squares\n        }\n      ]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext\n    }, c => {\n      if (!this.state.xIsNext) {\n        this.computerPlayer(squares)\n      }\n    });\n\n\n  }\n  // Attack mode \n  computerPlayer(squares) {\n    const freePositions = []\n    squares.forEach((square, index) => {\n      if (!square) {\n        freePositions.push(index)\n      }\n    })\n    const computerPositions = []\n    squares.forEach((square, index) => {\n      if (square === 'O') {\n        computerPositions.push(index)\n      }\n    })\n    let position = Math.floor(Math.random() * freePositions.length)\n    let maxTotal = 0\n    let lineFound;\n    lines.forEach(line => {\n      let freeFound = false\n      let total = 0\n      line.forEach(pos => {\n        computerPositions.forEach(c => {\n          if (c === pos) {\n            total++\n          }\n        })\n\n        freePositions.forEach(c => {\n          if (c === pos) {\n            freeFound = true\n          }\n        })\n\n      })\n      if (total > maxTotal && freeFound) {\n        lineFound = line\n      }\n    })\n    if (lineFound) {\n      lineFound.forEach(l => {\n        let found = false;\n\n        freePositions.forEach(free => {\n          if (free === l) {\n            found = true\n          }\n        })\n        if (found === true) {\n          position = l\n        }\n\n      })\n\n    }\n    console.log(lineFound, position, freePositions);\n\n    this.handleClick(position)\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = this.calculateWinner(current.squares);\n\n    // Code to track game moves history , future use \n    // const moves = history.map((step, move) => {\n    //   const desc = move ? \"Go to move#\" + move : \"Go to game start\";\n    //   return (\n    //     <li key={move}>\n    //       <button onClick={() => this.jumpTo(move)}>{desc}</button>\n    //     </li>\n    //   );\n    // });\n\n    let status;\n    if (winner) {\n      status = \"Winner: \" + winner;\n    } else {\n      status = \"Your Move: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n    return (\n      <div className=\"game\">\n        <div className=\"game-info\">\n          <div>{status}</div>\n        </div>\n        <div className=\"game-board\">\n          <Board squares={current.squares} onClick={i => this.handleClick(i)} />\n        </div>\n        {this.state.endGame ? (\n          <Button className=\"new-game-btn\" onClick={this.newGame}>new game</Button>\n        ) : ''}\n      </div>\n    );\n  }\n}\n\nexport default Game","import React from 'react'\n\nconst Context = React.createContext({\n  username: false,\n  setusername: () => { }\n})\n\nexport default Context","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport TokenService from '../services/token-service'\nimport './Header.css'\nimport Context from '../Context/Context'\n\nexport default class Header extends Component {\n  static contextType = Context\n  state = {\n    leaderboard: true,\n    registered: false,\n  }\n\n  handleLogoutClick = () => {\n    this.context.setusername()\n    TokenService.clearAuthToken()\n  }\n\n  handleLeaderboardClick = () => {\n    this.setState({\n      leaderboard: !this.state.leaderboard\n    })\n  }\n\n  handleRegisterClick = () => {\n    this.setState({\n      registered: !this.state.registered\n    })\n  }\n\n  handleLeaderBoardButtons() {\n    if (this.state.leaderboard) {\n      return this.renderLeaderBoardLink()\n    } else {\n      if (this.context.username) {\n        return this.renderLeaderBoardStartGame()\n      } else {\n        return this.renderLeaderBoardBackLink()\n      }\n    }\n  }\n\n  renderHeaderButtons() {\n    console.log(this.context);\n    if (!this.context.username) {\n      return this.renderRegisterButtons()\n    } else {\n      return this.renderLogoutLink()\n    }\n  }\n\n  renderRegisterButtons() {\n    if (!this.state.registered) {\n      return this.renderRegisterLink()\n    } else {\n      return this.renderRegisterBackLink()\n    }\n  }\n\n  renderLeaderBoardLink() {\n    return (\n      <div className='leaderBoard'>\n        <Link\n          onClick={this.handleLeaderboardClick}\n          to='/leaderboard' >\n          Leaderboard\n        </Link>\n      </div>\n    )\n  }\n\n  renderLeaderBoardBackLink() {\n    return (\n      <div className='Header__logged-in'>\n        <Link\n          onClick={this.handleLeaderboardClick}\n          to='/'>\n          Back\n        </Link>\n      </div>\n    )\n  }\n\n  renderLeaderBoardStartGame() {\n    return (\n      <div className='Header__logged-in'>\n        <Link\n          onClick={this.handleLeaderboardClick}\n          to='/game'>\n          Game\n        </Link>\n      </div>\n    )\n  }\n\n  renderLogoutLink() {\n    return (\n      <div className='Header__logged-in'>\n        <Link\n          onClick={this.handleLogoutClick}\n          to='/'>\n          Logout\n        </Link>\n      </div>\n    )\n  }\n\n  renderRegisterLink() {\n    return (\n      <div className='Header__not-logged-in'>\n        <Link\n          onClick={this.handleRegisterClick}\n          to='/register'>\n          Register\n        </Link>\n      </div>\n    )\n  }\n\n\n  renderRegisterBackLink() {\n    return (\n      <div className='Header__logged-in'>\n        <Link\n          onClick={this.handleRegisterClick}\n          to='/'>\n          Back\n        </Link>\n      </div>\n    )\n  }\n\n  render() {\n    console.log(this.context);\n\n    return <>\n      <nav className='Header'>\n        <div className='title'>\n          <h1>\n            Tic-Tac-Toe Championship Edition\n          </h1>\n        </div>\n        <div className=\"button-box\">\n          {this.handleLeaderBoardButtons()}\n          {this.renderHeaderButtons()}\n        </div>\n      </nav>\n    </>\n  }\n}\n","import config from '../config'\n\nconst AuthApiService = {\n  postLogin(credentials) {\n    return fetch(`${config.API_ENDPOINT}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(credentials),\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n\n  postUser(user) {\n    return fetch(`${config.API_ENDPOINT}/users`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n}\n\nexport default AuthApiService","import React, { Component } from 'react'\nimport { Button, Input } from '../Utils/Utils'\nimport Context from '../Context/Context'\nimport TokenService from '../services/token-service'\nimport AuthApiService from '../services/auth-api-service'\nimport './LoginForm.css'\n\nexport default class LoginForm extends Component {\n  static contextType = Context\n  static defaultProps = {\n    onLoginSuccess: () => { }\n  }\n\n  state = { error: null }\n\n  // handleSubmitBasicAuth = ev => {\n  //   ev.preventDefault()\n  //   const { user_name, password } = ev.target\n\n  //   console.log('login form submitted')\n  //   console.log({ user_name, password })\n\n  //   TokenService.saveAuthToken(\n  //     TokenService.makeBasicAuthToken(user_name.value, password.value)\n  //   )\n\n  //   user_name.value = ''\n  //   password.value = ''\n  //   this.props.onLoginSuccess()\n  // }\n\n  handleSubmitJwtAuth = ev => {\n    ev.preventDefault()\n    this.setState({ error: null })\n    const { user_name, password } = ev.target\n    console.log(user_name.value);\n\n\n    this.context.setusername(user_name.value)\n    AuthApiService.postLogin({\n      user_name: user_name.value,\n      password: password.value,\n    })\n      .then(res => {\n        user_name.value = ''\n        password.value = ''\n        TokenService.saveAuthToken(res.authToken)\n        this.props.onLoginSuccess()\n      })\n      .catch(res => {\n        this.setState({ error: res.error })\n      })\n  }\n\n  render() {\n    console.log(this.context);\n\n    const { error } = this.state\n    return (\n      <form\n        className='LoginForm'\n        onSubmit={this.handleSubmitJwtAuth}\n      >\n        <div role='alert'>\n          {error && <p className='red'>{error}</p>}\n        </div>\n        <div className='user_name'>\n          <label htmlFor='LoginForm__user_name'>\n            User name\n          </label>\n          <Input\n            required\n            name='user_name'\n            id='LoginForm__user_name'>\n          </Input>\n        </div>\n        <div className='password'>\n          <label htmlFor='LoginForm__password'>\n            Password\n          </label>\n          <Input\n            required\n            name='password'\n            type='password'\n            id='LoginForm__password'>\n          </Input>\n        </div>\n        <div className='Header__not-logged-in'>\n        </div>\n        <Button type='submit'>\n          Login\n        </Button>\n      </form>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport LoginForm from '../../LoginForm/LoginForm'\nimport { Section } from '../../Utils/Utils'\n\nexport default class LoginPage extends Component {\n  static defaultProps = {\n    location: {},\n    history: {\n      push: () => { },\n    },\n  }\n\n  handleLoginSuccess = () => {\n    const { location, history } = this.props\n    const destination = (location.state || {}).from || '/loggedin'\n    history.push(destination)\n  }\n\n  render() {\n    return (\n      <Section className='LoginPage'>\n        <h2>Login to your account</h2>\n        <LoginForm\n          onLoginSuccess={this.handleLoginSuccess}\n        />\n      </Section>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link, Route } from 'react-router-dom'\nimport { Button } from '../Utils/Utils'\nimport Context from '../Context/Context'\n\nclass LoggedIn extends Component {\n  static contextType = Context\n\n  render() {\n    return (\n      <div className=\"logged-in\">\n        <form>\n          <h2>Welcome back!</h2>\n          <h3><span>{this.context.user_name}</span></h3>\n          <p>Welcome to Tic-Tac-Toe Championship Edition, Be the first player to connect your mark X or O in a row, rows can be vertical horizontal or diagonal, when all 9 squares are full the game is over.</p>\n          <div className='Header__not-logged-in'>\n            <Link\n              to='/game'>\n              Start Game\n            </Link>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default LoggedIn","import React, { Component } from 'react'\nimport { Button, Input, Required } from '../Utils/Utils'\nimport AuthApiService from '../services/auth-api-service'\nimport './RegistrationForm.css'\n\nexport default class RegistrationForm extends Component {\n  static defaultProps = {\n    onRegistrationSuccess: () => { }\n  }\n\n  state = { error: null }\n\n  handleSubmit = ev => {\n    ev.preventDefault()\n    const { full_name, user_name, password } = ev.target\n\n    this.setState({ error: null })\n    AuthApiService.postUser({\n      user_name: user_name.value,\n      password: password.value,\n      full_name: full_name.value,\n    })\n      .then(user => {\n        full_name.value = ''\n        user_name.value = ''\n        password.value = ''\n        this.props.onRegistrationSuccess()\n\n\n      })\n      .catch(res => {\n        this.setState({ error: res.error })\n      })\n  }\n  render() {\n    const { error } = this.state\n    return (\n      <form\n        className='RegistrationForm'\n        onSubmit={this.handleSubmit}\n      >\n        <div role='alert'>\n          {error && <p className='red'>{error}</p>}\n        </div>\n        <div className='full_name'>\n          <label htmlFor='RegistrationForm__full_name'>\n            Full name <Required />\n          </label>\n          <Input\n            name='full_name'\n            type='text'\n            required\n            id='RegistrationForm__full_name'>\n          </Input>\n        </div>\n        <div className='user_name'>\n          <label htmlFor='RegistrationForm__user_name'>\n            User name <Required />\n          </label>\n          <Input\n            name='user_name'\n            type='text'\n            required\n            id='RegistrationForm__user_name'>\n          </Input>\n        </div>\n        <div className='password'>\n          <label htmlFor='RegistrationForm__password'>\n            Password <Required />\n          </label>\n          <Input\n            name='password'\n            type='password'\n            required\n            id='RegistrationForm__password'>\n          </Input>\n        </div>\n        <Button type='submit'>\n          Submit\n        </Button>\n      </form>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Section } from '../../Utils/Utils'\nimport RegistrationForm from '../../RegistrationForm/RegistrationForm'\n\nexport default class RegistrationPage extends Component {\n  static defaultProps = {\n    history: {\n      push: () => { },\n    },\n  }\n\n  handleRegistrationSuccess = user => {\n    const { history } = this.props\n    // this redirects to landing page\n    history.push('/')\n  }\n\n  render() {\n    return (\n      <Section className='RegistrationPage'>\n        <h2>Register</h2>\n        <RegistrationForm\n          onRegistrationSuccess={this.handleRegistrationSuccess}\n        />\n      </Section>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './LeaderBoard.css'\n\nexport default class LeaderBoard extends Component {\n  state = {\n    data: []\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8000/api/users/leaderboard')\n      .then(res => res.json())\n      .then(data => this.setState({\n        data\n      }))\n  }\n  render() {\n    return (\n      <div className='leaderBoard'>\n        <h2 className='high-score'>HIGH SCORES</h2>\n        <ol className='score-list'>\n          {this.state.data.map(user => (\n            <li key={user.id}><span>{user.user_name} </span> <span>{user.number_wins}</span></li>\n          ))}\n        </ol>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom'\nimport Game from './GameBoard/Game'\nimport Header from './Header/Header'\nimport LoginPage from './routes/LoginPage/LoginPage'\nimport LoggedIn from './LoggedIn/LoggedInPage'\nimport RegistrationPage from './routes/RegistrationPage/RegistrationPage'\nimport LeaderBoard from './LeaderBoard/LeaderBoard'\nimport Context from './Context/Context'\n\n\n\nclass App extends Component {\n\n  state = {\n    hasError: false,\n    username: false\n  }\n\n  static getDerivedStateFromError(error) {\n    console.error(error)\n    return { hasError: true }\n  }\n\n  setusername = (username) => {\n    this.setState({\n      username: username\n    })\n  }\n\n  render() {\n    return (\n      <Context.Provider value={{ username: this.state.username, setusername: this.setusername }}>\n        <div className=\"App\">\n          <header className='App__header'>\n            <Header />\n          </header>\n          <main className='App__main'>\n            {this.state.hasError && <p className='red'>There was an error! Oh no!</p>}\n            <Switch>\n              <Route\n                exact\n                path={'/'}\n                component={LoginPage}\n              />\n              <Route\n                path={'/loggedin'}\n                component={LoggedIn}\n              />\n              <Route\n                path={'/register'}\n                component={RegistrationPage}\n              />\n              <Route\n                path={'/game'}\n                component={Game}\n              />\n              <Route\n                path={'/leaderboard'}\n                component={LeaderBoard}\n              />\n            </Switch>\n          </main>\n        </div>\n      </Context.Provider>\n    )\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}